//------------------------------------------------------------------------------
// <auto-generated>
//     This code was generated by a tool.
//
//     Changes to this file may cause incorrect behavior and will be lost if
//     the code is regenerated.
// </auto-generated>
//------------------------------------------------------------------------------

namespace MyNS
{
	using System;
	using System.Collections.Generic;
	using System.Threading.Tasks;
	using System.Net.Http;
	using Newtonsoft.Json;
	
	
	/// <summary>
	/// A complex type that contains recommendations and information on how to configure Promoted Listings ad campaigns.
	/// </summary>
	public class Ad
	{
		
		/// <summary>
		/// This field returns information that you can use to configure the bidPercentage field in a Promoted Listings campaign. While this field returns an array, TRENDING is currently the only supported bid percentage type, so the array is populated with just a single element. The TRENDING bid percentage is calculated by reviewing the average ad rates of other similar promoted listings in the marketplace. Setting the bidPercentage of your ad campaign to this rate will help the items in the campaign be competitive with other items in the marketplace by improving their chances of being displayed more often in the marketplace.
		/// </summary>
		public BidPercentages[] BidPercentages { get; set; }
		
		/// <summary>
		/// An enum that describes whether or not eBay recommends placing the associated listing in a Promoted Listings ad campaign.
		/// </summary>
		public AdPromoteWithAd PromoteWithAd { get; set; }
	}
	
	public enum AdPromoteWithAd
	{
		
		RECOMMENDED = 0,
		
		UNDETERMINED = 1,
	}
	
	/// <summary>
	/// An enum that describes the different ways, or the basis, by which the bid percentage value is calculated. Currently, TRENDING is the only valid basis.
	/// </summary>
	public enum Basis
	{
		
		TRENDING = 0,
	}
	
	/// <summary>
	/// A complex type that returns data related to Promoted Listings bid percentages.
	/// </summary>
	public class BidPercentages
	{
		
		/// <summary>
		/// An enum that describes the different ways, or the basis, by which the bid percentage value is calculated. Currently, TRENDING is the only valid basis.
		/// </summary>
		public BidPercentagesBasis Basis { get; set; }
		
		/// <summary>
		/// The bid percentage data is a single precision value, as calculated by the associated basis. A TRENDING value is calculated by taking into account the average bid percentages of similar promoted listings in the associated marketplace. In Promoted listings ad campaigns, the bid percentage (also known as the ad rate) is a user-defined value that sets the level that eBay raises the visibility of the listing in the marketplace. It is also the rate that is used to calculate the Promoted Listings fee. Minimum value: 1.0 &nbsp; Maximum value: 100.0
		/// </summary>
		public string Value { get; set; }
	}
	
	public enum BidPercentagesBasis
	{
		
		TRENDING = 0,
	}
	
	/// <summary>
	/// This type defines the fields that can be returned in an error.
	/// </summary>
	public class Error
	{
		
		/// <summary>
		/// Identifies the type of erro.
		/// </summary>
		public string Category { get; set; }
		
		/// <summary>
		/// Name for the primary system where the error occurred. This is relevant for application errors.
		/// </summary>
		public string Domain { get; set; }
		
		/// <summary>
		/// A unique number to identify the error.
		/// </summary>
		public int ErrorId { get; set; }
		
		/// <summary>
		/// An array of request elements most closely associated to the error.
		/// </summary>
		public string[] InputRefIds { get; set; }
		
		/// <summary>
		/// A more detailed explanation of the error.
		/// </summary>
		public string LongMessage { get; set; }
		
		/// <summary>
		/// Information on how to correct the problem, in the end user's terms and language where applicable.
		/// </summary>
		public string Message { get; set; }
		
		/// <summary>
		/// An array of request elements most closely associated to the error.
		/// </summary>
		public string[] OutputRefIds { get; set; }
		
		/// <summary>
		/// An array of name/value pairs that describe details the error condition. These are useful when multiple errors are returned.
		/// </summary>
		public ErrorParameter[] Parameters { get; set; }
		
		/// <summary>
		/// Further helps indicate which subsystem the error is coming from. System subcategories include: Initialization, Serialization, Security, Monitoring, Rate Limiting, etc.
		/// </summary>
		public string Subdomain { get; set; }
	}
	
	public class ErrorParameter
	{
		
		/// <summary>
		/// The object of the error.
		/// </summary>
		public string Name { get; set; }
		
		/// <summary>
		/// The value of the object.
		/// </summary>
		public string Value { get; set; }
	}
	
	/// <summary>
	/// An list of listing ID values for which you want Promoted Listings ad configuration information.
	/// </summary>
	public class FindListingRecommendationRequest
	{
		
		/// <summary>
		/// A comma-separated list of listing IDs for which you want Promoted Listings ad configuration information. Currently, this method accepts only listingId values from the Trading API. Max: 500 listing IDs
		/// </summary>
		public string[] ListingIds { get; set; }
	}
	
	/// <summary>
	/// A complex type that contains the ID of an actively listed item and a set of related listing recommendations. The recommendations contain information the seller can use to optimize their listing configurations.
	/// </summary>
	public class ListingRecommendation
	{
		
		/// <summary>
		/// An ID that identifies the active listing associated with the eBay recommendations.
		/// </summary>
		public string ListingId { get; set; }
		
		/// <summary>
		/// A complex type that contains information about how a seller can improve their listing configurations. The AD object contains Promoted Listings recommendations and information, which the seller can use to improve buyer conversions. The response can also contain an optional message about the returned data.
		/// </summary>
		public MarketingRecommendation Marketing { get; set; }
	}
	
	/// <summary>
	/// A complex type that contains information about how a seller can improve their listing configurations. The AD object contains Promoted Listings recommendations and information, which the seller can use to improve buyer conversions. The response can also contain an optional message about the returned data.
	/// </summary>
	public class MarketingRecommendation
	{
		
		/// <summary>
		/// A complex type that contains recommendations and information on how to configure Promoted Listings ad campaigns.
		/// </summary>
		public Ad Ad { get; set; }
		
		/// <summary>
		/// A message that can conditionally accompany the listing information.
		/// </summary>
		public string Message { get; set; }
	}
	
	/// <summary>
	/// The high-level object used to return a set of Promoted Listings ad recommendations.
	/// </summary>
	public class PagedListingRecommendationCollection
	{
		
		/// <summary>
		/// The URI of the current page of results from the result set.
		/// </summary>
		public string Href { get; set; }
		
		/// <summary>
		/// The number of items returned on a single page from the result set. This value can be set with the limit request parameter.
		/// </summary>
		public int Limit { get; set; }
		
		/// <summary>
		/// Returns a list of listingRecommendations, where each element in the list offers recommendations for the associated listing ID.
		/// </summary>
		public ListingRecommendation[] ListingRecommendations { get; set; }
		
		/// <summary>
		/// The URI for the next page of results. This value is returned only if there is an additional page of results in the result set. Max length: 2048
		/// </summary>
		public string Next { get; set; }
		
		/// <summary>
		/// The number of results skipped in the result set before listing the first returned result. This value can be set with the offset request parameter.
		/// </summary>
		public int Offset { get; set; }
		
		/// <summary>
		/// The URI for the previous page of results. This value is returned only if there is a previous page of results in the result set. Max length: 2048
		/// </summary>
		public string Prev { get; set; }
		
		/// <summary>
		/// The total number of items in the result set.
		/// </summary>
		public int Total { get; set; }
	}
	
	/// <summary>
	/// An enum that describes whether or not eBay recommends placing the associated listing in a Promoted Listings ad campaign.
	/// </summary>
	public enum PromoteWithAd
	{
		
		RECOMMENDED = 0,
		
		UNDETERMINED = 1,
	}
	
	public partial class Listing_recommendationClient
	{
		
		private System.Net.Http.HttpClient client;
		
		public Listing_recommendationClient(System.Net.Http.HttpClient client)
		{
			if (client == null)
				throw new ArgumentNullException("Null HttpClient.", "client");

			if (client.BaseAddress == null)
				throw new ArgumentNullException("HttpClient has no BaseAddress", "client");

			this.client = client;
		}
		
		/// <summary>
		/// The find method returns recommendations and information that sellers can use to optimize their listing configurations. The response from this method includes an array of the seller's listing IDs, where each element in the array contains recommendations related to the associated listing ID. The AD recommendation type The method currently returns information for a single recommendation type (AD) which contains information that sellers can use to configure Promoted Listings ad campaigns. AD contains two sets of information: The promoteWithAd indicator The promoteWithAd response field indicates whether or not eBay recommends you place the associated listing in a Promoted Listings ad campaign. The returned value is set to either RECOMMENDED or UNDETERMINED, where RECOMMENDED identifies the listings that will benefit the most from having them included in an ad campaign. The bid percentage Also known as the &quot;ad rate,&quot; the bidPercentage field provides the current trending bid percentage of similarly promoted items in the marketplace. The ad rate is a user-specified value that indicates the level of promotion that eBay applies to the campaign across the marketplace. The value is also used to calculate the Promotion Listings fee, which is assessed to the seller if a Promoted Listings action results in the sale of an item. Configuring the request You can configure a request to review all of a seller's currently active listings, or just a subset of them. All active listings &ndash; If you leave the request body empty, the request targets all the items currently listed by the seller. Here, the response is filtered to contain only the items where promoteWithAd equals RECOMMENDED. In this case, eBay recommends that all the returned listings should be included in a Promoted Listings ad campaign. Selected listing IDs &ndash; If you populate the request body with a set of listingIds, the response contains data for all the specified listing IDs. In this scenario, the response provides you with information on listings where the promoteWithAd can be either RECOMMENDED or UNDETERMINED. The paginated response Because the response can contain many listing IDs, the findListingRecommendations method paginates the response set. You can control size of the returned pages, as well as an offset that dictates where to start the pagination, using query parameters in the request.
		/// FindListingRecommendations find
		/// </summary>
		/// <param name="filter">Provide a list of key-value pairs to specify the criteria you want to use to filter the response. In the list, separate each filter key from its associated value with a colon (&quot;:&quot;). Currently, the only supported filter value is recommendationTypes and it supports only the (&quot;AD&quot;) type. Follow the recommendationTypes specifier with the filter type(s) enclosed in curly braces (&quot;{ }&quot;), and separate multiple types with commas. Example: filter=recommendationTypes:{AD} Default: recommendationTypes:{AD}</param>
		/// <param name="limit">Use this query parameter to set the maximum number of ads to return on a page from the paginated response. Default: 10 Maximum: 500</param>
		/// <param name="offset">Specifies the number of ads to skip in the result set before returning the first ad in the paginated response. Combine offset with the limit query parameter to control the items returned in the response. For example, if you supply an offset of 0 and a limit of 10, the first page of the response contains the first 10 items from the complete list of items retrieved by the call. If offset is 10 and limit is 20, the first page of the response contains items 11-30 from the complete result set. Default: 0</param>
		/// <returns>Success</returns>
		public async Task FindListingRecommendationsAsync(string filter, string limit, string offset, FindListingRecommendationRequest requestBody)
		{
			var requestUri = "find?filter=" + Uri.EscapeDataString(filter)+"&limit=" + Uri.EscapeDataString(limit)+"&offset=" + Uri.EscapeDataString(offset);
			using (var requestWriter = new System.IO.StringWriter())
			{
			var requestSerializer = JsonSerializer.Create();
			requestSerializer.Serialize(requestWriter, requestBody);
			var content = new StringContent(requestWriter.ToString(), System.Text.Encoding.UTF8, "application/json");
			var responseMessage = await client.PostAsync(requestUri, content);
			try
			{
				responseMessage.EnsureSuccessStatusCode();
			}
			finally
			{
				responseMessage.Dispose();
			}
			}
		}
		
		/// <summary>
		/// The find method returns recommendations and information that sellers can use to optimize their listing configurations. The response from this method includes an array of the seller's listing IDs, where each element in the array contains recommendations related to the associated listing ID. The AD recommendation type The method currently returns information for a single recommendation type (AD) which contains information that sellers can use to configure Promoted Listings ad campaigns. AD contains two sets of information: The promoteWithAd indicator The promoteWithAd response field indicates whether or not eBay recommends you place the associated listing in a Promoted Listings ad campaign. The returned value is set to either RECOMMENDED or UNDETERMINED, where RECOMMENDED identifies the listings that will benefit the most from having them included in an ad campaign. The bid percentage Also known as the &quot;ad rate,&quot; the bidPercentage field provides the current trending bid percentage of similarly promoted items in the marketplace. The ad rate is a user-specified value that indicates the level of promotion that eBay applies to the campaign across the marketplace. The value is also used to calculate the Promotion Listings fee, which is assessed to the seller if a Promoted Listings action results in the sale of an item. Configuring the request You can configure a request to review all of a seller's currently active listings, or just a subset of them. All active listings &ndash; If you leave the request body empty, the request targets all the items currently listed by the seller. Here, the response is filtered to contain only the items where promoteWithAd equals RECOMMENDED. In this case, eBay recommends that all the returned listings should be included in a Promoted Listings ad campaign. Selected listing IDs &ndash; If you populate the request body with a set of listingIds, the response contains data for all the specified listing IDs. In this scenario, the response provides you with information on listings where the promoteWithAd can be either RECOMMENDED or UNDETERMINED. The paginated response Because the response can contain many listing IDs, the findListingRecommendations method paginates the response set. You can control size of the returned pages, as well as an offset that dictates where to start the pagination, using query parameters in the request.
		/// FindListingRecommendations find
		/// </summary>
		/// <param name="filter">Provide a list of key-value pairs to specify the criteria you want to use to filter the response. In the list, separate each filter key from its associated value with a colon (&quot;:&quot;). Currently, the only supported filter value is recommendationTypes and it supports only the (&quot;AD&quot;) type. Follow the recommendationTypes specifier with the filter type(s) enclosed in curly braces (&quot;{ }&quot;), and separate multiple types with commas. Example: filter=recommendationTypes:{AD} Default: recommendationTypes:{AD}</param>
		/// <param name="limit">Use this query parameter to set the maximum number of ads to return on a page from the paginated response. Default: 10 Maximum: 500</param>
		/// <param name="offset">Specifies the number of ads to skip in the result set before returning the first ad in the paginated response. Combine offset with the limit query parameter to control the items returned in the response. For example, if you supply an offset of 0 and a limit of 10, the first page of the response contains the first 10 items from the complete list of items retrieved by the call. If offset is 10 and limit is 20, the first page of the response contains items 11-30 from the complete result set. Default: 0</param>
		/// <returns>Success</returns>
		public void FindListingRecommendations(string filter, string limit, string offset, FindListingRecommendationRequest requestBody)
		{
			var requestUri = "find?filter=" + Uri.EscapeDataString(filter)+"&limit=" + Uri.EscapeDataString(limit)+"&offset=" + Uri.EscapeDataString(offset);
			using (var requestWriter = new System.IO.StringWriter())
			{
			var requestSerializer = JsonSerializer.Create();
			requestSerializer.Serialize(requestWriter, requestBody);
			var content = new StringContent(requestWriter.ToString(), System.Text.Encoding.UTF8, "application/json");
			var responseMessage = this.client.PostAsync(requestUri, content).Result;
			try
			{
				responseMessage.EnsureSuccessStatusCode();
			}
			finally
			{
				responseMessage.Dispose();
			}
			}
		}
	}
}
